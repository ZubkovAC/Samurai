(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[4],{228:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(227),a=n(6),o=n(0),u=n.n(o),i=n(19),l=function(e){return{isAuth:e.auth_user.isAuth}};function c(e){return Object(i.b)(l)((function(t){var n=t.isAuth,o=Object(r.a)(t,["isAuth"]);return n?u.a.createElement(e,o):u.a.createElement(a.a,{to:"/login"})}))}},229:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(227),a=n(231),o=n.n(a),u=n(0),i=n.n(u),l=n(109),c=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,u=n&&r;return i.a.createElement("div",{className:o.a.formControl+""+(u?o.a.error:"")},a,i.a.createElement("div",null,u&&i.a.createElement("span",null,r)))},s=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return i.a.createElement(c,e,i.a.createElement("textarea",Object.assign({},t,n)))},f=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return i.a.createElement(c,e,i.a.createElement("input",Object.assign({},t,n)))};function p(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return i.a.createElement("div",null,i.a.createElement(l.a,Object.assign({placeholder:e,name:t,validate:n,component:r},a))," ",o)}},230:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}}},231:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3d2ED",error:"FormsControls_error__1gDGv"}},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(59);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(l){a=!0,o=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},240:function(e,t,n){"use strict";function r(e,t){return e===t}function a(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}n.d(t,"k",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return v}));var u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var u=0,i=r.pop(),l=o(r),c=e.apply(void 0,[function(){return u++,i.apply(null,arguments)}].concat(n)),s=e((function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return c.apply(null,e)}));return s.resultFunc=i,s.dependencies=l,s.recomputations=function(){return u},s.resetRecomputations=function(){return u=0},s}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return a(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}));var i=function(e){return e.users.users},l=(u(i,(function(e){e.filter((function(e){return!0}))})),function(e){return e.users.pageSize}),c=function(e){return e.users.totalUsersCount},s=function(e){return e.users.currentPage},f=function(e){return e.users.isFetching},p=function(e){return e.users.followingInProgress},m=function(e){return e.profile.profile},d=function(e){return e.profile.userId},b=function(e){return e.profile.status},h=function(e){return e.auth_user.userId},v=function(e){return e.auth_user.isAuth}},296:function(e,t,n){e.exports={content:"Profile_content__33Nji",photo:"Profile_photo__1olw0"}},297:function(e,t,n){e.exports={ProfileInfo:"ProfileInfo_ProfileInfo__2GZvK"}},298:function(e,t,n){e.exports={content:"MyPosts_content__2YDBg"}},299:function(e,t,n){e.exports={post:"Post_post__3H89X"}},313:function(e,t,n){"use strict";n.r(t),n.d(t,"ProfileContainer",(function(){return V}));var r=n(41),a=n(42),o=n(44),u=n(43),i=n(0),l=n.n(i),c=n(296),s=n.n(c),f=n(234),p=n(297),m=n.n(p),d=n(58),b=function(e){var t=Object(i.useState)(!1),n=Object(f.a)(t,2),r=n[0],a=n[1],o=Object(i.useState)(e.status),u=Object(f.a)(o,2),c=u[0],s=u[1];Object(i.useEffect)((function(){s(e.status)}),[e.status]);return l.a.createElement("div",null,r?l.a.createElement("input",{onKeyUp:function(t){"Enter"===t.key&&(a(!1),e.updateStatus(c))},onChange:function(e){s(e.currentTarget.value)},value:c,onBlur:function(){a(!1),e.updateStatus(c)},autoFocus:!0}):l.a.createElement("span",{onDoubleClick:function(){a(!0)}},c||"hello"))},h=n(229),v=n(110),E=Object(v.a)({form:"edit-Profile"})((function(e){var t=e.handleSubmit,n=e.profile,r=e.error;return l.a.createElement("form",{onSubmit:t},l.a.createElement("div",null,l.a.createElement("button",null,"save")),r&&l.a.createElement("div",null,r),l.a.createElement("div",null,l.a.createElement("b",null,"Full name *"),": ",Object(h.c)("Full name","fullName",[],h.a)),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job"),": ",Object(h.c)("","lookingForAJob",[],h.a,{type:"checkbox"})),l.a.createElement("div",null,l.a.createElement("b",null,"My professional skills *"),":",Object(h.c)("My professional skills","lookingForAJobDescription",[],h.b)),l.a.createElement("div",null,l.a.createElement("b",null,"About me *"),":",Object(h.c)("About me","aboutMe",[],h.b)),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts"),": ",Object.keys(n.contacts).map((function(e){return l.a.createElement("div",{key:e},l.a.createElement("b",null,e,": ",Object(h.c)(e,"contacts."+e,[],h.a)))}))))})),g=n(19),j=l.a.memo((function(e){var t=Object(g.c)(),n=Object(g.d)((function(e){return e.auth_user.userId})),r=Object(i.useState)(!1),a=Object(f.a)(r,2),o=a[0],u=a[1];return l.a.createElement("div",{className:m.a.ProfileInfo},l.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:"https://pbs.twimg.com/profile_images/948912339977457664/kKj0B_jV_400x400.jpg",alt:"Avatar"}),l.a.createElement("div",null,e.isOwner&&l.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})),l.a.createElement(b,{status:e.status,updateStatus:e.updateStatus}),o?l.a.createElement(E,{initialValues:e.profile,profile:e.profile,onSubmit:function(e){console.log(e),t(Object(d.b)(e,n)),u(!1)}}):l.a.createElement(O,{isOwner:e.isOwner,goToEditMode:function(){return function(e){u(e)}(!0)},profile:e.profile}))})),O=function(e){var t=e.profile,n=e.isOwner,r=e.goToEditMode;return l.a.createElement("div",null,n&&l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){return r(!0)}},"update111")),l.a.createElement("h5",null,"fullName:",t.fullName),l.a.createElement("div",null,"aboutMe:",t.aboutMe),l.a.createElement("div",null,"lookingForAJob:",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&l.a.createElement("div",null,"lookingForAJobDescription:",t.lookingForAJobDescription," "),l.a.createElement("h4",null,"Social"),l.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return l.a.createElement(y,{contactTitle:e,contactValue:t.contacts[e]})}))))};function y(e){var t=e.contactTitle,n=e.contactValue;return l.a.createElement("div",null,l.a.createElement("b",{style:{paddingLeft:"10px"}},t,":"),n)}var P=n(298),k=n.n(P),_=n(299),S=n.n(_),A=function(e){return l.a.createElement("div",{className:S.a.post},l.a.createElement("div",null,l.a.createElement("img",{src:"https://img.favpng.com/11/20/6/ninja-computer-icons-avatar-samurai-png-favpng-mJeFV4xf9mPrz2cwALkbspCd4.jpg",alt:"ninja"}),e.message),l.a.createElement("span",null," like ",e.likecount))},w=n(109),I=n(230),F=Object(I.a)(40),C=l.a.memo((function(e){var t=e.profile.postsProfile.map((function(e){return l.a.createElement(A,{key:e.id,message:e.message,likecount:e.likecount})})),n=Object(v.a)({form:"ProfileForm"})((function(e){return l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement(w.a,{name:"ProfileInput",type:"text",component:h.b,placeholder:"Message",validate:[I.b,F]}),l.a.createElement("div",null,l.a.createElement("button",null,"add message")))}));return l.a.createElement("div",{className:k.a.content},l.a.createElement("h3",null,"My post"),l.a.createElement("div",null,l.a.createElement("h4",null," New Post")),l.a.createElement("div",null,l.a.createElement(n,{onSubmit:function(t){e.addPostProfile(t.ProfileInput)}})),l.a.createElement("div",null,t))})),x=Object(g.b)((function(e){return{profile:e.profile}}),(function(e){return{addPostProfile:function(t){e(Object(d.a)(t))}}}))(C),M=l.a.memo((function(e){return l.a.createElement("div",{className:s.a.content},l.a.createElement(j,{status:e.status,updateStatus:e.updateStatus,profile:e.profile,isOwner:e.isOwner,savePhoto:e.savePhoto}),l.a.createElement(x,null))})),J=n(64),N=n(6),D=n(228),U=n(23),T=n(240),V=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizeUserId)||this.props.history.push("/login"),this.props.setUserStatus(e),this.props.setUserProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.profile?l.a.createElement(M,Object.assign({isOwner:!+this.props.match.params.userId},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhotoTC})):l.a.createElement(J.a,null)}}]),n}(l.a.Component);t.default=Object(U.d)(Object(g.b)((function(e){return{profile:Object(T.g)(e),userId:Object(T.j)(e),status:Object(T.h)(e),isAuth:Object(T.d)(e),authorizeUserId:Object(T.a)(e)}}),{setUserProfile:d.e,setUserStatus:d.f,updateStatus:d.g,savePhotoTC:d.d}),N.g,D.a)(V)}}]);
//# sourceMappingURL=4.fe1a512c.chunk.js.map